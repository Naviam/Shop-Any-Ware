@using TdService.Resources.Views
<div class="modal" data-bind="attr: { id: popupDomId }" style="display: none">
    <div class="modal-header">
        <button class="close" data-dismiss="modal">×</button>
        <h3>@DashboardViewResources.AddItemForm</h3>
    </div>
    <div class="modal-body" data-bind="with: popupItemViewModel">
        <form class="form-horizontal">
            <fieldset class="well the-fieldset">
                <legend class="the-legend">@DashboardViewResources.GeneralLegend</legend>
                <div class="control-group">
                    <label class="control-label" for="itemName">@DashboardViewResources.ItemNameHeader</label>
                    <div class="controls">
                        <input class="input-xlarge focused" data-bind="value: name" id="itemName" type="text" />
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="itemPrice">@DashboardViewResources.PriceHeader</label>
                    <div class="controls">
                        <div class="input-prepend">
                            <span class="add-on">$</span><input class="span1" data-bind="value: price" id="itemPrice" style="width: 80px" size="16" type="text" />
                        </div>
                    </div>
                </div>
                <div class="control-group">
                    <label class="control-label" for="itemQuantity">@DashboardViewResources.QuantityHeader</label>
                    <div class="controls">
                        <input class="input-small focused" data-bind="value: quantity" id="itemQuantity" type="text" />
                    </div>
                </div>
                @if (Model.OperatorMode)
                {
                    <div class="control-group">
                        <label class="control-label" for="itemWeight">@DashboardViewResources.WeightHeader</label>
                        <div class="controls">
                            <input class="input-small focused" data-bind="value: weight" id="itemWeight" type="text" />&nbsp; @DashboardViewResources.PoundsShort
                        </div>
                    </div>
                }
            </fieldset>
            @if (Model.OperatorMode)
            {
                <fieldset class="well the-fieldset">
                    <legend class="the-legend">@DashboardViewResources.SizeLegend</legend>
                    <div class="control-group">
                        <label class="control-label" for="itemHeight">@DashboardViewResources.ItemHeightHeader</label>
                        <div class="controls">
                            <input class="input-small focused" id="itemHeight" data-bind="value: dimHeight" type="text" />
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="itemWidth">@DashboardViewResources.ItemWidthHeader</label>
                        <div class="controls">
                            <input class="input-small focused" id="itemWidth" type="text" data-bind="value: dimWidth" />
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="itemLength">@DashboardViewResources.ItemLengthHeader</label>
                        <div class="controls">
                            <input class="input-small focused" id="itemLength" type="text" data-bind="value: dimLength" />
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="itemGirth">@DashboardViewResources.ItemGirthHeader</label>
                        <div class="controls">
                            <input class="input-small focused" id="itemGirth" type="text" data-bind="value: dimGirth" />
                        </div>
                    </div>
                </fieldset>
                <fieldset class="well the-fieldset" data-bind="visible:uploaderVisible">
                    <legend class="the-legend">@DashboardViewResources.ImagesUploadLegend</legend>
                    <div data-bind="attr: { id: $parent.plUploaderDivContainerId }">@DashboardViewResources.NoHtml5Support</div>
                </fieldset>
            }
            <div class="modalValidationErrors" data-bind="foreach:validationModel.errors, visible:errorsVisible">
                <div data-bind="text:$data"></div>
            </div>
            <div class="modalValidationErrors" data-bind="foreach:brokenRules, visible:errorsVisible">
                <div data-bind="text:$data"></div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">@DashboardViewResources.CancelButton</a>
        <a href="#" class="btn btn-primary" data-bind="click: saveItem">@DashboardViewResources.SaveChangesButton</a>
    </div>

</div>
